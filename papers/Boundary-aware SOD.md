# Selectivity or Invariance: Boundary-aware Salient Object Detection

通常，显着物体检测（SOD）模型在处理物体内部和边界时面临相反的要求。内部特征应不随强烈的外观变化而变化，以便从整体上突出的对象，而边界的特征应当选择性地增强对较小的外界变化，以区分突出的对象和背景。为了解决这种选择性不变性难题，我们提出了一种具有连续扩张的新型边界感知网络，用于基于图像的SOD。在该网络中，一个分支使用合并边界定位来增强边界处的特征选择性，一个内部感知流来确保内部的特征不变性。此外，采用过渡补偿流来修正内部和边界之间的过渡区域中可能发生的故障。特别地，提出了集成的连续扩张模块以增强内部和过渡区域处的特征不变性。在六个数据集上进行的大量实验表明，该方法优于16种最新方法。

SOD面临的问题：

1. ，一个大的显着物体的内部可能会有很大的变化，使得很难将显著物体当作是一个整体来检测。
2. 显著物体的边界可能非常的弱，导致不能很好地从背景中识别出来。

通过在对象内部和边界上进一步研究这两个问题，我们发现挑战可能主要来自选择性不变性困境[19]。 在对象内部，SOD模型提取的特征应不随各种外观变化（例如大小，颜色和纹理）而变化。 这种不变的特征确保了突出的对象可以整体突出。 但是，边界上的特征应同时具有足够的选择性，以便可以很好地区分显着对象与背景区域之间的细微差别。 换句话说，显着对象的不同区域对SOD模型提出了不同的要求，而这种困境实际上阻止了具有各种大小，外观和上下文的显着对象的完美分割。

本文提出在对象内部和边界采用不同的特征提取策略，受此启发，我们为基于图像的SOD提出了一种具有连续扩张功能的边界感知网络。如图2所示，网络首先提取常见的视觉特征，然后将它们传递到三个单独的流中。在这三个流中，边界定位流是一个简单的子网，旨在提取用于检测显着对象边界的选择性特征，而内部感知流则强调检测显着对象时的特征不变性。另外，采用过渡补偿流来修正可能发生的故障，这些故障可能发生在内部和边界之间的过渡区域中，其中特征需求从不变性逐渐变为选择性。此外，提出了一个集成的连续扩张模块，以增强内部感知和过渡补偿流的能力，以便它们可以为各种视觉模式提取不变特征。最后，这三个流的输出被自适应融合以生成显着对象的mask。

本文的主要贡献包括：1）从选择性不变性的角度重新审视了SOD问题，这可能有助于开发新模型。 2）我们提出了一种用于显着物体检测的新型边界感知网络，该网络在六个数据集上始终优于16种最新算法； 3）我们提出了一个集成的连续扩张模块，可以增强提取不变特征的能力。网络结构如下图

![1570936343014](C:\Users\rayshea\AppData\Roaming\Typora\typora-user-images\1570936343014.png)

边缘检测分支使用的是HED算法

内部感知流用来强调大型显著物体内部的不变性，因此用的是一个复杂的网络和简单的输入特征，输入为特征提取网络的最后一层输出，输出为H*W的特征图，此流中使用集成的连续扩展（ISD）模块，以感知连续尺度的局部上下文，将输入映射到输出，这将在下一部分中介绍。

如图所示，可以通过使用两个单独的流处理边界和内部区域来增强对边界的意识：一种使用多级特征和一个简单的网络来强调选择性，另一种使用单级特征和一个 复杂网络以增强不变性。但是这两种特征的组合可能会失败，尤其是对于内部空间和边界之间的过渡区域，需要选择性和不变性之间取得平衡。

因此使用 transition compensation流通过补偿过渡区域中的特征来自适应地修正这些失败。这个流通过将低层次的特征及高层次的特征进行逐像素加和，通过将低层次空间信息丰富，语义信息较少的特征和高层次语义信息丰富，空间信息较少的特征结合起来，可以联合起来丰富特征的表达能力。基于这些特征，使用具有中等复杂度的ISD模块来生成一个过渡特征表示图，该图既可以表示选择性又可以表示不变性，以确保显着对象的详细结构得到正确检测。

与近似估计gt不同，transition compensation流的监督是由GT的mask的显著物体和边界流和内部流回传回来的。如果单纯地将内部流和边界流的结果相加，会得到有噪声的结果。为了降低这种噪声，本文采用边界镶嵌的方式，为不同的区域赋予不同的强度。这个方式保证了不同特征的良好组合。
$$
\phi_I,\phi_B,\phi_T分别表示有选择的，强调的，及他们权衡之后的结果。
$$
最终不同特征 的组合方式如下：
$$
\bold M=\phi_B \otimes(1-\bold M_I)\otimes\bold M_B+\phi_I\otimes(1-\bold M_B)\otimes\bold M_I \\
+\phi_T\otimes(1-\bold M_B)\otimes(1-\bold M_B)\\
\otimes表示逐像素乘积
$$
我们可以看到，第一项强调具有高选择性和低不变性置信度的位置处的选择性特征，而第二项强调具有不变性和低选择性置信度的位置处的不变特征φI。 对于具有中等选择性和不变性置信度的其他位置，将添加过渡特征φT以校正特征。 换句话说，过渡流实际上通过提供特征补偿来学习近似其他两个流中的不确定区域。

最终的显著性特征图可以通过Sig(**M**)
$$
L_0=E(Sig(\bold M),G)
$$
在内部感知流和过渡补偿流中，关键要求是为嵌入各种上下文的区域提取不变特征。 为了增强这种能力，我们提出了一个集成的连续扩张模块（称为ISD），以按一系列尺度有效地聚合上下文信息，以增强特征不变性。ISD模块见下图，第一个1x1卷积用来统一通道维度，第二层采用空洞卷积，每一个分支的空洞率为2^(n-1)，通过添加分支内和分支间的短连接，分支层生成的特征图实际上整合了前一个分支的感知结果，并通过更大的扩展来进一步处理它们。 这样，来自第二层第一分支的特征图也被编码在后续分支的特征图中，这些特征实际上是由连续的膨胀率处理的。换句话说，ISD-N模块具有以最小的扩张率1和最大的扩张率2 N-1感知各种局部上下文的能力。此后，第三层和第四层采用1×1内核 整合在各种膨胀率下形成的特征图。 实际上，我们在内部感知流中使用ISD-5，在过渡补偿流中使用ISD-3。

![1570935366738](C:\Users\rayshea\AppData\Roaming\Typora\typora-user-images\1570935366738.png)

